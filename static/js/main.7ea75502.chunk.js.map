{"version":3,"sources":["components/Nav.tsx","components/SearchForm.tsx","api/index.ts","components/MediaTitle.tsx","components/MediaCover.tsx","components/MediaBadges.tsx","components/MediaDescription.tsx","components/MediaStatus.tsx","components/MediaDates.tsx","components/MediaSummary.tsx","components/LoadingSpinner.tsx","components/MediaList.tsx","hooks/useIntersectionObserver.tsx","components/Footer.tsx","components/ScrollToTop.tsx","pages/MediaListPage.tsx","components/MediaDetail.tsx","pages/MediaDetailPage.tsx","pages/PageNotFound.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Nav","showBack","history","useHistory","darkMode","useDarkMode","classNameDark","className","onClick","goBack","xmlns","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to","fill","x","y","width","height","rx","stroke","opacity","cx","cy","r","onChange","toggle","checked","value","size","defaultFormState","search","status","SearchForm","onSubmit","defaults","useForm","defaultValues","register","handleSubmit","errors","type","name","defaultValue","placeholder","ref","client","GraphQLClient","getAllMedia","page","filters","a","query","gql","variables","perPage","undefined","includes","toUpperCase","split","join","request","Page","getMedia","id","Media","MediaTitle","english","romaji","native","preferred","hasNative","MediaCover","title","coverImage","dontShrink","preferredTitle","medium","alt","src","large","Badge","color","children","MediaBadges","format","season","seasonYear","episodes","volumes","chapters","badges","show","content","toLowerCase","trim","filter","e","map","i","MediaDescription","description","truncateLength","html","str","len","words","shift","length","trunc","style","textIndent","dangerouslySetInnerHTML","__html","MediaStatus","replace","formatDate","date","Date","year","month","day","toLocaleDateString","MediaDates","startDate","endDate","MediaSummary","media","truncate","card","LoadingSpinner","MediaList","filterState","useInfiniteQuery","pageParam","alert","staleTime","getNextPageParam","lastPage","pageInfo","hasNextPage","currentPage","data","error","isFetchingNextPage","fetchNextPage","loadMoreRef","useRef","root","target","onIntersect","threshold","rootMargin","enabled","React","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","current","el","observe","unobserve","useIntersectionObserver","message","pages","flatMap","disabled","ry","Footer","getFullYear","ScrollToTop","topRef","scrollIntoView","behavior","MediaListPage","useState","setFilterState","MediaDetail","useQuery","bannerImage","window","open","idMal","MediaDetailPage","useParams","PageNotFound","queryClient","QueryClient","App","QueryClientProvider","exact","path","initialIsOpen","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ea75502.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\n// @ts-ignore\nimport DarkModeToggle from 'react-dark-mode-toggle';\n\nimport useDarkMode from 'use-dark-mode';\n\ninterface NavProps {\n  showBack?: boolean;\n}\n\nfunction Nav({ showBack }: NavProps) {\n  const history = useHistory();\n  const darkMode = useDarkMode(false, {\n    classNameDark: 'dark',\n  });\n\n  return (\n    <nav className=\"bg-gray-800 dark:bg-indigo-900 min-w-full fixed z-50 shadow-lg\">\n      <div className=\"container mx-auto max-w-5xl\">\n        <div className=\"flex flex-row items-center justify-between\">\n          {/* Left Side */}\n          <div className=\"flex-none\">\n            <div\n              className={`${\n                showBack ? 'block' : 'invisible'\n              } ml-4 w-12 h-12 p-2 cursor-pointer`}\n              onClick={() => history.goBack()}\n            >\n              <svg\n                className=\"fill-current stroke-current text-white hover:text-purple-300\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                />\n              </svg>\n            </div>\n          </div>\n\n          {/* Centered Logo & Title */}\n          <div className=\"flex-none\">\n            <NavLink to=\"/\">\n              <div className=\"group flex flex-row flex-none justify-center items-center cursor-pointer\">\n                {/* Logo */}\n                <div className=\"w-16 h-16 p-2\">\n                  <svg\n                    className=\"w-12 h-12\"\n                    viewBox=\"0 0 154 204\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <rect\n                      x=\"7\"\n                      y=\"7\"\n                      width=\"140\"\n                      height=\"190\"\n                      rx=\"10\"\n                      fill=\"#EE3E37\"\n                    />\n                    <path\n                      d=\"M149.954 182H134V200C147.827 199.1 150.397 187.625 149.954 182Z\"\n                      fill=\"#A62B26\"\n                    />\n                    <path d=\"M147 35H134V49H147V35Z\" fill=\"#A62B26\" />\n                    <path\n                      d=\"M4 64H91L118 36.5H130\"\n                      stroke=\"#F37873\"\n                      strokeWidth=\"7\"\n                    />\n                    <path\n                      d=\"M7 60.5H90L117 33H150\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"7\"\n                    />\n                    <path\n                      d=\"M133 181.5H147.5\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <path\n                      d=\"M133 173H147.5\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <path\n                      d=\"M133 56.5H147.5\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <path\n                      d=\"M133 48H147.5\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <circle\n                      opacity=\"0.5\"\n                      cx=\"33\"\n                      cy=\"31\"\n                      r=\"12.75\"\n                      fill=\"white\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <circle\n                      cx=\"33\"\n                      cy=\"31\"\n                      r=\"9.5\"\n                      fill=\"#5FC7FB\"\n                      stroke=\"#17264D\"\n                    />\n                    <circle cx=\"31\" cy=\"30\" r=\"3\" fill=\"#AFE3FD\" />\n                    <circle\n                      cx=\"136\"\n                      cy=\"18\"\n                      r=\"4\"\n                      fill=\"#77A946\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"2\"\n                    />\n                    <circle\n                      cx=\"123\"\n                      cy=\"18\"\n                      r=\"4\"\n                      fill=\"#F5A623\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"2\"\n                    />\n                    <circle\n                      cx=\"110\"\n                      cy=\"18\"\n                      r=\"4\"\n                      fill=\"#CB0000\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"2\"\n                    />\n                    <path\n                      d=\"M34.6363 126.785C36.6531 125.282 36.6471 122.259 34.6242 120.763L25.7024 114.168C23.2243 112.336 19.7171 114.11 19.7233 117.191L19.7499 130.417C19.7561 133.499 23.2703 135.258 25.7411 133.416L34.6363 126.785Z\"\n                      fill=\"#FEC356\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <rect\n                      x=\"43.25\"\n                      y=\"169.25\"\n                      width=\"53.5\"\n                      height=\"6.5\"\n                      rx=\"3.25\"\n                      fill=\"#B22E29\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"3.5\"\n                    />\n                    <rect\n                      x=\"3.5\"\n                      y=\"3.5\"\n                      width=\"147\"\n                      height=\"197\"\n                      rx=\"13.5\"\n                      stroke=\"#4D1717\"\n                      strokeWidth=\"7\"\n                    />\n                    <path d=\"M131 33V200\" stroke=\"#4D1717\" strokeWidth=\"7\" />\n                  </svg>\n                </div>\n\n                {/* Title */}\n                <div>\n                  <span className=\"text-gray-50 group-hover:text-purple-200 text-2xl\">\n                    Animu Codex\n                  </span>\n                </div>\n              </div>\n            </NavLink>\n          </div>\n\n          {/* Right Side */}\n          <div className=\"flex flex-none p-2 items-center justify-end\">\n            <DarkModeToggle\n              onChange={darkMode.toggle}\n              checked={darkMode.value}\n              size={60}\n            />\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\n\nexport interface SearchFormState {\n  search: string;\n  status: string;\n}\n\nexport const defaultFormState = () => {\n  return { search: '', status: 'All Statuses' };\n};\n\ninterface SearchFormProps {\n  onSubmit: (data: SearchFormState) => void;\n  defaults: SearchFormState;\n}\n\nfunction SearchForm({ onSubmit, defaults }: SearchFormProps) {\n  const { register, handleSubmit, errors } = useForm<SearchFormState>({\n    defaultValues: defaults,\n  });\n\n  return (\n    <div className=\"container mx-auto max-w-5xl p-4\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"flex flex-row justify-between items-center space-x-4\">\n          <div className=\"flex flex-col sm:flex-row flex-grow justify-between space-y-2 sm:space-y-0 sm:space-x-2\">\n            <input\n              type=\"text\"\n              name=\"search\"\n              defaultValue=\"\"\n              placeholder=\"Search\"\n              ref={register}\n              className=\"block w-full text-base rounded-md rounded-border border-gray-300 shadow-sm focus:border-indigo-300 focus:ring-2 focus:ring-indigo-200 focus:opacity-50 outline-none dark:bg-gray-800 dark:bg-opacity-40 dark:border-gray-700 dark:focus:border-indigo-500 dark:focus:bg-gray-900 dark:focus:ring-indigo-900 dark:text-gray-100 transition-colors duration-200 ease-in-out\"\n            />\n\n            <select\n              name=\"status\"\n              ref={register}\n              className=\"block w-full text-base rounded-md rounded-border border-gray-300 shadow-sm focus:border-indigo-300 focus:ring-2 focus:ring-indigo-200 focus:opacity-50 outline-none dark:bg-gray-800 dark:bg-opacity-40 dark:border-gray-700 dark:focus:border-indigo-500 dark:focus:bg-gray-900 dark:focus:ring-indigo-900 dark:text-gray-100 transition-colors duration-200 ease-in-out\"\n            >\n              <option>All Statuses</option>\n              <option>Finished</option>\n              <option>Releasing</option>\n              <option>Not Yet Released</option>\n              <option>Cancelled</option>\n              <option>Hiatus</option>\n            </select>\n          </div>\n\n          <input\n            type=\"submit\"\n            value=\"Go!\"\n            className=\"inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default SearchForm;\n","import { GraphQLClient, gql } from 'graphql-request';\n\nimport { SearchFormState } from '../components/SearchForm';\n\nconst endpoint = 'https://graphql.anilist.co';\nconst client = new GraphQLClient(endpoint);\n\nexport const getAllMedia = async function (\n  page: number,\n  filters: SearchFormState\n) {\n  const perPage = 25;\n  const query = gql`\n    query($search: String, $status: MediaStatus, $page: Int, $perPage: Int) {\n      Page(page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          perPage\n          currentPage\n          lastPage\n          hasNextPage\n        }\n        media(search: $search, status: $status, sort: POPULARITY_DESC) {\n          id\n          coverImage {\n            medium\n            large\n          }\n          title {\n            english\n            romaji\n            native\n          }\n          status\n          startDate {\n            year\n            month\n            day\n          }\n          endDate {\n            year\n            month\n            day\n          }\n          type\n          format\n          season\n          seasonYear\n          episodes\n          chapters\n          volumes\n          description\n        }\n      }\n    }\n  `;\n  const variables = {\n    page,\n    perPage,\n    search: filters.search || undefined,\n    status:\n      !filters.status || filters.status.includes('All')\n        ? undefined\n        : filters.status.toUpperCase().split(' ').join('_'),\n  };\n  const { Page } = await client.request(query, variables);\n  return Page;\n};\n\nexport const getMedia = async function (id: number) {\n  const query = gql`\n    query($id: Int) {\n      Media(id: $id) {\n        id\n        idMal\n        bannerImage\n        coverImage {\n          medium\n          large\n        }\n        title {\n          english\n          romaji\n          native\n        }\n        status\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        type\n        format\n        season\n        seasonYear\n        episodes\n        chapters\n        volumes\n        description\n        trailer {\n          id\n          site\n        }\n      }\n    }\n  `;\n  const { Media } = await client.request(query, { id });\n  return Media;\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface MediaTitleProps {\n  id: string;\n  english?: string;\n  romaji?: string;\n  native?: string;\n}\n\nfunction MediaTitle({ id, english, romaji, native }: MediaTitleProps) {\n  const preferred = english || romaji || '<No Translation>';\n  const hasNative = !!native;\n\n  return (\n    <>\n      <h2 className=\"text-2xl font-medium text-gray-900 title-font dark:text-white\">\n        <Link\n          to={`/media/${id}`}\n          className=\"hover:underline hover:text-purple-600 dark:hover:text-indigo-500\"\n        >\n          {preferred}\n          <br />\n          {hasNative && <span>{native}</span>}\n        </Link>\n      </h2>\n    </>\n  );\n}\n\nexport default MediaTitle;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface MediaCoverProps {\n  id: string;\n  title: any;\n  coverImage: any;\n  dontShrink?: boolean;\n}\n\nfunction MediaCover({\n  id,\n  title,\n  coverImage,\n  dontShrink = false,\n}: MediaCoverProps) {\n  const preferredTitle = title.english || title.romaji;\n  return (\n    <>\n      <Link to={`/media/${id}`}>\n        <div className={`${dontShrink ? 'hidden' : 'block md:hidden'}`}>\n          {coverImage.medium && (\n            <img alt={`${preferredTitle} cover`} src={coverImage.medium} />\n          )}\n        </div>\n        <div className={`${dontShrink ? 'block' : 'hidden md:block'}`}>\n          {coverImage.large && (\n            <img alt={`${preferredTitle} cover`} src={coverImage.large} />\n          )}\n        </div>\n      </Link>\n    </>\n  );\n}\n\nexport default MediaCover;\n","import React, { FunctionComponent } from 'react';\n\ninterface BadgeProps {\n  color: string;\n}\n\ninterface MediaBadgesProps {\n  type: 'ANIME' | 'MANGA';\n  format: string;\n  season?: string;\n  seasonYear?: number;\n  episodes?: number;\n  volumes?: number;\n  chapters?: number;\n}\n\nconst Badge: FunctionComponent<BadgeProps> = ({ color, children }) => {\n  return (\n    <div\n      className={`rounded-xl text-white ${color} px-2 py-1 text-xs font-bold capitalize`}\n    >\n      {children}\n    </div>\n  );\n};\n\nfunction MediaBadges({\n  type,\n  format,\n  season,\n  seasonYear,\n  episodes,\n  volumes,\n  chapters,\n}: MediaBadgesProps) {\n  const color = type === 'ANIME' ? 'bg-indigo-500' : 'bg-yellow-500';\n\n  const badges = [\n    { show: true, content: type.toLowerCase(), color },\n    {\n      show: format && format !== type,\n      content: format?.toLowerCase(),\n      color: 'bg-purple-500',\n    },\n    {\n      show: !!season,\n      content: `${season?.toLowerCase()} ${seasonYear}`.trim(),\n      color: 'bg-blue-500',\n    },\n    {\n      show: !!episodes,\n      content: `${episodes} episodes`,\n      color: 'bg-yellow-500',\n    },\n    { show: !!volumes, content: `${volumes} volumes`, color: 'bg-green-500' },\n    {\n      show: !!chapters,\n      content: `${chapters} chapters`,\n      color: 'bg-pink-500',\n    },\n  ].filter((e) => e.show);\n\n  return (\n    <div className=\"flex flex-row items-center space-x-2\">\n      {badges.map(({ content, color }, i) => (\n        <Badge key={i} color={color}>\n          <span>{content}</span>\n        </Badge>\n      ))}\n    </div>\n  );\n}\n\nexport default MediaBadges;\n","import React from 'react';\n\ninterface MediaDescriptionProps {\n  description: string;\n  truncateLength?: number;\n}\n\nfunction trunc(str: string, len: number) {\n  const first = str.split('<br>').shift();\n\n  const words = (first || '').split(' ');\n  let content = '';\n  while (content.length < len && words.length > 0) {\n    content += ' ' + words.shift();\n  }\n\n  const terminator = words.length > 0 ? '...' : '';\n  return (content + terminator).trim();\n}\n\nfunction MediaDescription({\n  description,\n  truncateLength,\n}: MediaDescriptionProps) {\n  const html = truncateLength!!\n    ? trunc(description, truncateLength)\n    : description;\n\n  return (\n    // NOTE: the descriptions from AniList have html in them.\n    // Instead of parsing, let's just trust they already stopped the XSS attacks for us :)\n    <div\n      style={{ textIndent: '1.5rem' }}\n      className=\"tracking-normal leading-relaxed text-justify dark:text-gray-400\"\n      dangerouslySetInnerHTML={{ __html: `<p>${html}</p>` }}\n    ></div>\n  );\n}\n\nexport default MediaDescription;\n","import React from 'react';\n\ninterface MediaStatusProps {\n  status:\n    | 'FINISHED'\n    | 'RELEASING'\n    | 'NOT_YET_RELEASED'\n    | 'CANCELLED'\n    | 'HIATUS';\n}\n\nfunction MediaStatus({ status }: MediaStatusProps) {\n  const color = (() => {\n    switch (status) {\n      case 'FINISHED':\n        return 'border-red-400';\n      case 'RELEASING':\n        return 'border-green-400';\n      case 'NOT_YET_RELEASED':\n        return 'border-yellow-400';\n      default:\n        return 'border-gray-400;';\n    }\n  })();\n\n  return (\n    <div\n      className={`rounded-full bg-white border-4 ${color} p-1 text-xs dark:text-white dark:bg-gray-800 dark:bg-opacity-40`}\n    >\n      <span className=\"font-medium capitalize\">\n        {status.toLowerCase().replace(/_/g, ' ')}\n      </span>\n    </div>\n  );\n}\n\nexport default MediaStatus;\n","import React from 'react';\n\ninterface Date {\n  month?: number;\n  day?: number;\n  year?: number;\n}\n\ninterface MediaDateProps {\n  startDate: Date;\n  endDate: Date;\n}\n\nconst formatDate = function (date: Date) {\n  return new Date(\n    `${date.year}-${date.month}-${date.day}`\n  ).toLocaleDateString();\n};\n\nfunction MediaDates({ startDate, endDate }: MediaDateProps) {\n  return (\n    <div className=\"font-sans font-normal text-gray-400 tracking-tight text-right\">\n      {startDate.day ? (\n        <>\n          <span>{formatDate(startDate)}</span>\n          {' - '}\n          <span>{endDate.day ? formatDate(endDate) : 'Present'}</span>\n        </>\n      ) : (\n        <span className=\"mr-8\">TBD</span>\n      )}\n    </div>\n  );\n}\n\nexport default MediaDates;\n","import React, { FunctionComponent } from 'react';\n\nimport MediaTitle from './MediaTitle';\nimport MediaCover from './MediaCover';\nimport MediaBadges from './MediaBadges';\nimport MediaDescription from './MediaDescription';\nimport MediaStatus from './MediaStatus';\nimport MediaDates from './MediaDates';\n\ninterface MediaSummaryProps {\n  media: any;\n  truncate?: boolean;\n  card?: boolean;\n}\n\nconst MediaSummary: FunctionComponent<MediaSummaryProps> = ({\n  media,\n  truncate = true,\n  card = true,\n  children,\n}) => {\n  return (\n    <div\n      className={`container bg-white max-w-5xl mx-auto ${\n        card && 'rounded-xl shadow-lg border-transparent'\n      } flex sm:space-x-4 sm:justify-between dark:bg-gray-800 dark:bg-opacity-40`}\n    >\n      <div className=\"ml-4 hidden sm:flex flex-none justify-center items-center\">\n        <MediaCover\n          id={media.id}\n          title={media.title}\n          coverImage={media.coverImage}\n        />\n      </div>\n\n      <div className=\"flex flex-col flex-grow space-y-4 sm:border-l-4 sm:border-opacity-75 sm:border-purple-600 sm:dark:border-indigo-600\">\n        <div className=\"flex flex-col sm:flex-row justify-between border-b border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700 sm:divide-y-0\">\n          <div className=\"flex flex-row items-center space-x-4 divide-x-1 divide-gray-200 dark:divide-gray-700\">\n            <div className=\"sm:hidden\">\n              <MediaCover\n                id={media.id}\n                title={media.title}\n                coverImage={media.coverImage}\n              />\n            </div>\n            <div>\n              <MediaTitle id={media.id} {...media.title} />\n            </div>\n          </div>\n\n          <div className=\"p-2 sm:p-4 flex flex-none flex-row-reverse justify-between items-center sm:flex-col sm:justify-around sm:items-stretch\">\n            <div className=\"flex flex-row justify-end items-center\">\n              <MediaStatus status={media.status} />\n            </div>\n\n            <div>\n              <MediaDates startDate={media.startDate} endDate={media.endDate} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-2\">\n          <MediaBadges\n            type={media.type}\n            format={media.format}\n            season={media.season}\n            seasonYear={media.seasonYear}\n            episodes={media.episodes}\n            volumes={media.volumes}\n            chapters={media.chapters}\n          />\n        </div>\n\n        <div className=\"px-2 pb-4\">\n          {media.description && (\n            <MediaDescription\n              description={media.description}\n              truncateLength={truncate ? 225 : undefined}\n            />\n          )}\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MediaSummary;\n","import React from 'react';\n\ninterface LoadingSpinnerProps {\n  width?: number;\n  height?: number;\n  color?: string;\n}\n\nfunction LoadingSpinner({\n  width = 5,\n  height = 5,\n  color = 'white',\n}: LoadingSpinnerProps) {\n  return (\n    <>\n      <svg\n        className={`animate-spin h-${height} w-${width} text-${color}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        ></circle>\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        ></path>\n      </svg>\n    </>\n  );\n}\n\nexport default LoadingSpinner;\n","import React, { useRef } from 'react';\nimport { useInfiniteQuery } from 'react-query';\n\nimport useIntersectionObserver from '../hooks/useIntersectionObserver';\nimport { getAllMedia } from '../api';\nimport { SearchFormState } from './SearchForm';\nimport MediaSummary from './MediaSummary';\nimport LoadingSpinner from './LoadingSpinner';\n\ninterface MediaListProps {\n  filterState: SearchFormState;\n}\n\nfunction MediaList({ filterState }: MediaListProps) {\n  const {\n    status,\n    data,\n    error,\n    isFetchingNextPage,\n    fetchNextPage,\n    hasNextPage,\n  } = useInfiniteQuery(\n    ['medialist', filterState],\n    async ({ pageParam = 1 }) => {\n      try {\n        return await getAllMedia(pageParam, filterState);\n      } catch (e) {\n        alert(e);\n        throw e;\n      }\n    },\n    {\n      // We will consider the data fresh for 5 minutes to save our rate limit\n      staleTime: 5 * 60 * 1000,\n      getNextPageParam: (lastPage) =>\n        lastPage.pageInfo.hasNextPage\n          ? lastPage.pageInfo.currentPage + 1\n          : false,\n    }\n  );\n  const loadMoreRef = useRef<any>();\n\n  useIntersectionObserver({\n    target: loadMoreRef,\n    onIntersect: fetchNextPage,\n    enabled: hasNextPage,\n  });\n\n  return (\n    <div className=\"subpixel-antialiased md:antialiased\">\n      {status === 'loading' ? (\n        <div className=\"container mx-auto max-w-5xl flex items-center justify-center pt-10 pb-16 sm:pt-24 sm:pb-36 lg:pt-40 lg:pb-56 text-center\">\n          <LoadingSpinner width={20} height={20} color=\"indigo-600\" />\n        </div>\n      ) : status === 'error' ? (\n        <span className=\"text-red-600\">Error: {(error as Error).message}</span>\n      ) : (\n        <>\n          {data && data.pages.length > 0 && data.pages[0].media.length > 0 && (\n            <>\n              <div className=\"divide-y-2 divide-gray-100 dark:divide-gray-700\">\n                {data.pages\n                  .flatMap((page) => page.media)\n                  .map((media: any, i: number) => (\n                    <MediaSummary key={media.id} media={media} />\n                  ))}\n              </div>\n\n              <div className=\"pt-10 pb-16 text-center\">\n                <button\n                  ref={loadMoreRef}\n                  onClick={() => fetchNextPage()}\n                  disabled={!hasNextPage || isFetchingNextPage}\n                  className=\"inline-flex justify-center items-center w-52 px-4 py-2 border border-transparent text-base leading-6 fond-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 active:bg-indigo-700\"\n                >\n                  {isFetchingNextPage ? (\n                    <LoadingSpinner />\n                  ) : hasNextPage ? (\n                    'Load Newer'\n                  ) : (\n                    'Nothing more to load'\n                  )}\n                </button>\n              </div>\n            </>\n          )}\n\n          {(!data ||\n            data.pages.length === 0 ||\n            data.pages[0].media.length === 0) && (\n            <div className=\"pt-10 pb-16 sm:pt-24 sm:pb-36 lg:pt-40 lg:pb-56 text-center\">\n              <svg\n                width=\"96\"\n                height=\"96\"\n                fill=\"none\"\n                className=\"mx-auto mb-6 text-gray-900\"\n              >\n                <path\n                  d=\"M36 28.024A18.05 18.05 0 0025.022 39M59.999 28.024A18.05 18.05 0 0170.975 39\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                ></path>\n                <ellipse\n                  cx=\"37.5\"\n                  cy=\"43.5\"\n                  rx=\"4.5\"\n                  ry=\"7.5\"\n                  fill=\"currentColor\"\n                ></ellipse>\n                <ellipse\n                  cx=\"58.5\"\n                  cy=\"43.5\"\n                  rx=\"4.5\"\n                  ry=\"7.5\"\n                  fill=\"currentColor\"\n                ></ellipse>\n                <path\n                  d=\"M24.673 75.42a9.003 9.003 0 008.879 5.563m-8.88-5.562A8.973 8.973 0 0124 72c0-7.97 9-18 9-18s9 10.03 9 18a9 9 0 01-8.448 8.983m-8.88-5.562C16.919 68.817 12 58.983 12 48c0-19.882 16.118-36 36-36s36 16.118 36 36-16.118 36-36 36a35.877 35.877 0 01-14.448-3.017\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                ></path>\n                <path\n                  d=\"M41.997 71.75A14.94 14.94 0 0148 70.5c2.399 0 4.658.56 6.661 1.556a3 3 0 003.999-4.066 12 12 0 00-10.662-6.49 11.955 11.955 0 00-7.974 3.032c1.11 2.37 1.917 4.876 1.972 7.217z\"\n                  fill=\"currentColor\"\n                ></path>\n              </svg>\n              <p className=\"text-lg leading-5 font-medium text-gray-900 mb-3\">\n                Sorry! There are no results for “{filterState.search}”.\n              </p>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default MediaList;\n","import React from 'react';\n\nexport default function useIntersectionObserver({\n  root,\n  target,\n  onIntersect,\n  threshold = 1.0,\n  rootMargin = '0px',\n  enabled = true,\n}: any) {\n  React.useEffect(\n    () => {\n      if (!enabled) {\n        return;\n      }\n\n      const observer = new IntersectionObserver(\n        (entries) =>\n          entries.forEach((entry) => entry.isIntersecting && onIntersect()),\n        {\n          root: root && root.current,\n          rootMargin,\n          threshold,\n        }\n      );\n\n      const el = target && target.current;\n\n      if (!el) {\n        return;\n      }\n\n      observer.observe(el);\n\n      return () => {\n        observer.unobserve(el);\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [target.current, enabled]\n  );\n}\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"$text-gray-400 bg-gray-200 dark:bg-gray-900 body-font\">\n      <div className=\"bg-gray-300 dark:bg-gray-800 bg-opacity-75\">\n        <div className=\"container px-5 py-6 mx-auto flex items-center sm:flex-row flex-col\">\n          <p className=\"text-sm text-gray-400 sm:ml-6 sm:mt-0 mt-4\">\n            © {new Date().getFullYear()} AnimuCodex —\n            <span className=\"text-gray-500 ml-1\">Nicholas Myers</span>\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\ninterface ScrollToTopProps {\n  topRef: any;\n}\n\nfunction ScrollToTop({ topRef }: ScrollToTopProps) {\n  return (\n    <div\n      onClick={() => topRef.current.scrollIntoView({ behavior: 'smooth' })}\n      className=\"fixed bottom-4 right-4 w-12 h-12 p-2 text-white bg-indigo-500 rounded-full cursor-pointer hover:bg-purple-800 shadow-lg\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M5 15l7-7 7 7\"\n        />\n      </svg>\n    </div>\n  );\n}\n\nexport default ScrollToTop;\n","import React, { useRef, useState } from 'react';\n\nimport Nav from '../components/Nav';\nimport SearchForm, {\n  defaultFormState,\n  SearchFormState,\n} from '../components/SearchForm';\nimport MediaList from '../components/MediaList';\nimport Footer from '../components/Footer';\nimport ScrollToTop from '../components/ScrollToTop';\n\nfunction MediaListPage() {\n  // TODO: support filling this via query string\n\n  const [filterState, setFilterState] = useState<SearchFormState>(\n    defaultFormState\n  );\n\n  const topRef = useRef<any>();\n\n  return (\n    <>\n      <Nav />\n      <main ref={topRef} className=\"bg-gray-100 dark:bg-gray-900 pt-16\">\n        <div className=\"flex-col\">\n          <SearchForm onSubmit={setFilterState} defaults={filterState} />\n          <MediaList filterState={filterState} />\n        </div>\n      </main>\n      <ScrollToTop topRef={topRef} />\n      <Footer />\n    </>\n  );\n}\n\nexport default MediaListPage;\n","import React from 'react';\nimport { useQuery } from 'react-query';\n\nimport { getMedia } from '../api';\nimport LoadingSpinner from './LoadingSpinner';\nimport MediaSummary from './MediaSummary';\n\ninterface MediaDetailProps {\n  id: number;\n}\n\nfunction MediaDetail({ id }: MediaDetailProps) {\n  const { status, data, error } = useQuery(\n    ['media', id],\n    async () => getMedia(id),\n    {\n      enabled: !!id,\n      staleTime: 5 * 60 * 1000,\n    }\n  );\n\n  return (\n    <div className=\"subpixel-antialiased md:antialiased\">\n      {!id || status === 'loading' ? (\n        <div className=\"container mx-auto max-w-5xl flex items-center justify-center pt-10 pb-16 sm:pt-24 sm:pb-36 lg:pt-40 lg:pb-56 text-center\">\n          <LoadingSpinner width={20} height={20} color=\"indigo-600\" />\n        </div>\n      ) : status === 'error' ? (\n        <span className=\"text-red-600\">Error: {(error as Error).message}</span>\n      ) : (\n        <div className=\"flex flex-col\">\n          <div className=\"flex-none\">\n            {data.bannerImage && (\n              <img\n                alt={`${data.title.english || data.title.romaji} banner`}\n                src={data.bannerImage}\n              />\n            )}\n          </div>\n\n          <div className=\"my-4 md:my-10 lg:my-14 p-4\">\n            <MediaSummary media={data} truncate={false} card>\n              <div className=\"flex flex-row justify-between items-center mt-2 pt-4 space-x-4 border-t border-gray-200 dark:border-gray-700\">\n                <button\n                  onClick={() =>\n                    window.open(`https://anilist.co/anime/${data.id}`)\n                  }\n                  className=\"flex-none text-white bg-green-500 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 rounded text-lg\"\n                >\n                  AniList\n                  <span className=\"text-gray-100 inline-flex items-center\">\n                    <svg\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      className=\"w-4 h-4 ml-2\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </span>\n                </button>\n\n                {data.idMal && (\n                  <button\n                    onClick={() =>\n                      window.open(`https://myanimelist.net/anime/${data.idMal}`)\n                    }\n                    className=\"flex-none text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                  >\n                    MyAnimeList\n                    <span className=\"text-gray-100 inline-flex items-center\">\n                      <svg\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth=\"2\"\n                        className=\"w-4 h-4 ml-2\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n                      </svg>\n                    </span>\n                  </button>\n                )}\n              </div>\n            </MediaSummary>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MediaDetail;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Nav from '../components/Nav';\nimport MediaDetail from '../components/MediaDetail';\nimport Footer from '../components/Footer';\n\nfunction MediaDetailPage() {\n  const { id } = useParams<any>();\n\n  return (\n    <>\n      <Nav showBack />\n      <main className=\"bg-gray-100 dark:bg-gray-900 pt-16\">\n        <MediaDetail id={id} />\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default MediaDetailPage;\n","import React from 'react';\n\nimport Nav from '../components/Nav';\nimport Footer from '../components/Footer';\n\nfunction PageNotFound() {\n  return (\n    <>\n      <Nav />\n\n      <header className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n          <h1 className=\"text-3xl font-bold leading-tight text-gray-900\">\n            404 Page Not Found\n          </h1>\n        </div>\n      </header>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\n\nimport MediaListPage from './pages/MediaListPage';\nimport MediaDetailPage from './pages/MediaDetailPage';\nimport PageNotFound from './pages/PageNotFound';\n\nconst queryClient = new QueryClient();\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to=\"/media\" />\n          </Route>\n\n          <Route exact path=\"/media\">\n            <MediaListPage />\n          </Route>\n\n          <Route path=\"/media/:id\">\n            <MediaDetailPage />\n          </Route>\n\n          <Route path=\"*\">\n            <PageNotFound />\n          </Route>\n        </Switch>\n      </Router>\n\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}